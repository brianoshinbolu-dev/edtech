{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/BrianOsh/Desktop/alfanomeric/edtech/lib/actions.ts"],"sourcesContent":["\"use server\"\r\n\r\nimport fs from \"fs/promises\"\r\nimport path from \"path\"\r\n\r\nconst DB_PATH = path.join(process.cwd(), \"lib\", \"data.json\")\r\n\r\n// --- Helper Functions ---\r\n\r\nasync function readDb() {\r\n    try {\r\n        const data = await fs.readFile(DB_PATH, \"utf-8\")\r\n        return JSON.parse(data)\r\n    } catch (error) {\r\n        console.error(\"Error reading database:\", error)\r\n        return { posts: [], candidates: [], courses: [] }\r\n    }\r\n}\r\n\r\nasync function writeDb(data: any) {\r\n    try {\r\n        await fs.writeFile(DB_PATH, JSON.stringify(data, null, 2))\r\n    } catch (error) {\r\n        console.error(\"Error writing to database:\", error)\r\n    }\r\n}\r\n\r\n// --- Post Actions ---\r\n\r\nexport async function getPosts() {\r\n    const db = await readDb()\r\n    return db.posts || []\r\n}\r\n\r\nexport async function createPost(content: string, image?: string) {\r\n    const db = await readDb()\r\n    const newPost = {\r\n        id: Date.now(),\r\n        author: \"John Doe\",\r\n        role: \"Senior Product Manager\",\r\n        timeAgo: \"Just now\",\r\n        content,\r\n        likes: 0,\r\n        comments: [],\r\n        avatar: \"/professional-user.png\",\r\n        image: image || undefined,\r\n        isLiked: false,\r\n        isCommentsOpen: false,\r\n    }\r\n\r\n    db.posts = [newPost, ...db.posts]\r\n    await writeDb(db)\r\n    return newPost\r\n}\r\n\r\nexport async function togglePostLike(postId: number) {\r\n    const db = await readDb()\r\n    db.posts = db.posts.map((post: any) => {\r\n        if (post.id === postId) {\r\n            return {\r\n                ...post,\r\n                likes: post.isLiked ? post.likes - 1 : post.likes + 1,\r\n                isLiked: !post.isLiked,\r\n            }\r\n        }\r\n        return post\r\n    })\r\n    await writeDb(db)\r\n    return db.posts\r\n}\r\n\r\nexport async function addPostComment(postId: number, content: string) {\r\n    const db = await readDb()\r\n    const newComment = {\r\n        id: Date.now(),\r\n        author: \"John Doe\",\r\n        content,\r\n        avatar: \"/professional-user.png\",\r\n        timestamp: \"Just now\"\r\n    }\r\n\r\n    db.posts = db.posts.map((post: any) => {\r\n        if (post.id === postId) {\r\n            return {\r\n                ...post,\r\n                comments: [newComment, ...post.comments]\r\n            }\r\n        }\r\n        return post\r\n    })\r\n\r\n    await writeDb(db)\r\n    return db.posts\r\n}\r\n\r\n// --- Candidate Actions ---\r\n\r\nexport async function getCandidates() {\r\n    const db = await readDb()\r\n    return db.candidates || []\r\n}\r\n\r\nexport async function updateCandidateStatus(candidateId: number, newStatus: string) {\r\n    const db = await readDb()\r\n    db.candidates = db.candidates.map((c: any) =>\r\n        c.id === candidateId ? { ...c, status: newStatus } : c\r\n    )\r\n    await writeDb(db)\r\n    return db.candidates\r\n}\r\n\r\n// --- Course Actions ---\r\n\r\nexport async function getCourses() {\r\n    const db = await readDb()\r\n    return db.courses || []\r\n}\r\n\r\nexport async function getInstructorStats() {\r\n    const db = await readDb()\r\n    const publishedCourses = db.courses.filter((c: any) => c.status === 'published').length\r\n    const totalStudents = db.courses.reduce((acc: number, c: any) => acc + (c.students || 0), 0)\r\n\r\n    return {\r\n        ...db.instructor,\r\n        totalCourses: db.courses.length,\r\n        publishedCourses,\r\n        totalStudents\r\n    }\r\n}\r\n\r\nexport async function createCourse(courseData: any) {\r\n    const db = await readDb()\r\n    const newCourse = {\r\n        id: Date.now().toString(),\r\n        ...courseData,\r\n        author: {\r\n            name: db.instructor.profile.name,\r\n            role: db.instructor.profile.headline,\r\n            image: db.instructor.profile.image,\r\n            bio: db.instructor.profile.bio\r\n        },\r\n        rating: 0,\r\n        reviews: 0,\r\n        students: 0,\r\n        revenue: 0,\r\n        views: 0,\r\n        status: \"draft\",\r\n        lastUpdated: new Date().toLocaleDateString('en-US', { month: '2-digit', year: 'numeric' }),\r\n        curriculum: []\r\n    }\r\n\r\n    db.courses.push(newCourse)\r\n    await writeDb(db)\r\n    return newCourse\r\n}\r\n\r\nexport async function updateCourse(courseId: string, updates: any) {\r\n    const db = await readDb()\r\n    const index = db.courses.findIndex((c: any) => c.id.toString() === courseId.toString())\r\n\r\n    if (index === -1) {\r\n        throw new Error(\"Course not found\")\r\n    }\r\n\r\n    db.courses[index] = { ...db.courses[index], ...updates, lastUpdated: new Date().toLocaleDateString('en-US', { month: '2-digit', year: 'numeric' }) }\r\n    await writeDb(db)\r\n    return db.courses[index]\r\n}\r\n\r\nexport async function deleteCourse(courseId: string) {\r\n    const db = await readDb()\r\n    db.courses = db.courses.filter((c: any) => c.id.toString() !== courseId.toString())\r\n    await writeDb(db)\r\n    return { success: true }\r\n}\r\n\r\nexport async function getCourse(courseId: string) {\r\n    const db = await readDb()\r\n    return db.courses.find((c: any) => c.id.toString() === courseId.toString())\r\n}\r\n\r\n// --- Student & Review Actions ---\r\n\r\nexport async function getStudents() {\r\n    const db = await readDb()\r\n    return db.students || []\r\n}\r\n\r\nexport async function getReviews(courseId?: string) {\r\n    const db = await readDb()\r\n    if (courseId) {\r\n        return db.reviews.filter((r: any) => r.courseId.toString() === courseId.toString()) || []\r\n    }\r\n    return db.reviews || []\r\n}\r\n\r\n// --- Curriculum Actions ---\r\n\r\nexport async function updateCourseCurriculum(courseId: string, sections: any[]) {\r\n    const db = await readDb()\r\n    const index = db.courses.findIndex((c: any) => c.id.toString() === courseId.toString())\r\n\r\n    if (index === -1) {\r\n        throw new Error(\"Course not found\")\r\n    }\r\n\r\n    db.courses[index].sections = sections\r\n    db.courses[index].lastUpdated = new Date().toLocaleDateString('en-US', { month: '2-digit', year: 'numeric' })\r\n\r\n    await writeDb(db)\r\n    return db.courses[index]\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 282, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/BrianOsh/Desktop/alfanomeric/edtech/.next-internal/server/app/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {getPosts as '000655209d7763d01846cd92fea402c071b1c2e726'} from 'ACTIONS_MODULE0'\nexport {createPost as '60c0abcef481c0b400f35e7d156fbc5e4bdffb7cd6'} from 'ACTIONS_MODULE0'\nexport {togglePostLike as '401655876911f1ccef31f826ebb8cbfec74d5e93ce'} from 'ACTIONS_MODULE0'\nexport {addPostComment as '60ac036fea18aa9c8d8c80eb86d45c06158dbc8233'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 308, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/BrianOsh/Desktop/alfanomeric/edtech/node_modules/next/src/build/webpack/loaders/next-flight-loader/server-reference.ts"],"sourcesContent":["/* eslint-disable import/no-extraneous-dependencies */\nexport { registerServerReference } from 'react-server-dom-webpack/server'\n"],"names":["registerServerReference"],"mappings":"AAAA,oDAAoD;;;+BAC3CA,2BAAAA;;;eAAAA,QAAAA,uBAAuB;;;wBAAQ","ignoreList":[0]}},
    {"offset": {"line": 322, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/BrianOsh/Desktop/alfanomeric/edtech/node_modules/next/src/build/webpack/loaders/next-flight-loader/action-validate.ts"],"sourcesContent":["// This function ensures that all the exported values are valid server actions,\n// during the runtime. By definition all actions are required to be async\n// functions, but here we can only check that they are functions.\nexport function ensureServerEntryExports(actions: any[]) {\n  for (let i = 0; i < actions.length; i++) {\n    const action = actions[i]\n    if (typeof action !== 'function') {\n      throw new Error(\n        `A \"use server\" file can only export async functions, found ${typeof action}.\\nRead more: https://nextjs.org/docs/messages/invalid-use-server-value`\n      )\n    }\n  }\n}\n"],"names":["ensureServerEntryExports","actions","i","length","action","Error"],"mappings":"AAAA,+EAA+E;AAC/E,yEAAyE;AACzE,iEAAiE;;;;+BACjDA,4BAAAA;;;eAAAA;;;AAAT,SAASA,yBAAyBC,OAAc;IACrD,IAAK,IAAIC,IAAI,GAAGA,IAAID,QAAQE,MAAM,EAAED,IAAK;QACvC,MAAME,SAASH,OAAO,CAACC,EAAE;QACzB,IAAI,OAAOE,WAAW,YAAY;YAChC,MAAM,OAAA,cAEL,CAFK,IAAIC,MACR,CAAC,2DAA2D,EAAE,OAAOD,OAAO,uEAAuE,CAAC,GADhJ,qBAAA;uBAAA;4BAAA;8BAAA;YAEN;QACF;IACF;AACF","ignoreList":[0]}}]
}